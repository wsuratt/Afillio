%article.u-shadow-v18.g-bg-white.text-center.rounded.g-px-10.g-py-20.g-mb-5.position-relative
  - if !current_page?(product_path(product))
    %a.stretched-link{:href => product_path(product)}
  - if product.image.attached?
    .card-img-top.d-inline-block.img-fluid.mb-4
      = image_tag product.image, alt: product.title + " image", class: "product-img"
  %h4.h5.g-color-black.g-font-weight-600.g-mb-10
    = product.title
  %span.d-block.g-color-primary.g-font-size-16
    Price:
    = number_to_currency(product.price_cents)
  %span.d-block.g-color-primary.g-font-size-16
    Commission:
    = number_to_currency(product.commission_cents)
  - if current_user
    - if policy(product).edit?
      %span.d-block.mt-2
        = link_to 'Edit', edit_product_path(product), class: 'btn btn-sm btn-warning text-white'
        = link_to 'Delete', product, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger'
